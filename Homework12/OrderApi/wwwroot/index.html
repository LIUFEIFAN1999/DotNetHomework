<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
  <div id="app" style="padding-right: 40px; padding-left: 40px; padding-bottom: 50px;">
    <!--主窗口-->
   
            <el-card style="padding-right: 20px; padding-left: 20px; padding-bottom: 40px;" header="订单系统">
                <el-row>
                    <el-col :xs="24" :md="12">
                        <el-input placeholder="请输入条件" v-model="keyword" class="input-with-select">
                            <el-button slot="append" icon="el-icon-search"  @click="query"></el-button>
                          </el-input>
                </el-row>
                <el-table style="top: 20px;" :data="orders" :fit="true" :show-header="true">
                    <el-table-column prop="orderId" label="Id">
                    </el-table-column>
                    <el-table-column prop="customerName" label="客户">
                    </el-table-column>
                    <el-table-column prop="address" label="地址">
                    </el-table-column>
                    <el-table-column prop="amount" label="金额">
                    </el-table-column>
                </el-table>
            </el-card>
  </div>
</body>
  <!-- import Vue and element-ui -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <!-- import Axios -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script>
    var vue=new Vue({
        el: '#app',
        data:{
            keyword:"",
            orders: [], //查询结果
        },
        methods: { 
            query: function (keyword) {
                var path='/api/order';
                if(this.keyword!="") path=path+"?name="+this.keyword;
                var self = this
                axios.get(path)
                    .then(response=>self.orders = response.data)
                    .catch(e =>self.$message.error(e.response.data))
            }
        }
    })
    vue.query();
  </script>
</html>